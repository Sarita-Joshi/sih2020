{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\src\\\\components\\\\Assistant\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport firebase from 'firebase';\nimport Navigation from '../Navigation';\n\nconst SchedulePage = () => /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }\n}, \"Schedule (Assistant)\"), /*#__PURE__*/React.createElement(SignUpForm, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 3\n  }\n}));\n\nconst INITIAL_STATE = {\n  name: '',\n  rid: '',\n  error: null,\n  users: [],\n  loading: false\n};\n\nclass AppointmentFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      const a1 = {\n        name: this.state.name,\n        email: this.state.email,\n        gender: this.state.gender,\n        age: this.state.age\n      };\n      var ref = firebase.database().ref('/Patient_Details/');\n      var newRef = ref.push();\n      newRef.set(a1);\n      console.log('DATA SAVED');\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = _objectSpread({}, INITIAL_STATE);\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    firebase.firestore().ref('Patient_Details').on('value', snapshot => {\n      const usersObject = snapshot.val();\n      const usersList = Object.keys(usersObject).map(key => _objectSpread(_objectSpread({}, usersObject[key]), {}, {\n        uid: key\n      }));\n      this.setState({\n        users: usersList,\n        loading: false\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    firebase.firestore().ref('Patient_Details').off();\n  }\n\n  render() {\n    const _this$state = this.state,\n          name = _this$state.name,\n          rid = _this$state.rid,\n          error = _this$state.error,\n          users = _this$state.users,\n          loading = _this$state.loading;\n    const isInvalid = rid === '' || name === '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"addForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"name\",\n      value: name,\n      onChange: this.onChange,\n      type: \"text\",\n      placeholder: \"Full Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"rid\",\n      value: rid,\n      onChange: this.onChange,\n      type: \"text\",\n      placeholder: \"ID\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: isInvalid,\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, \"Appoint\"), error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, error.message))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"Patients\"), loading && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 23\n      }\n    }, \"Loading ...\"), /*#__PURE__*/React.createElement(UserList, {\n      users: users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst UserList = ({\n  users\n}) => /*#__PURE__*/React.createElement(\"ul\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 3\n  }\n}, users.map(user => /*#__PURE__*/React.createElement(\"li\", {\n  key: user.rid,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"strong\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 11\n  }\n}, \"ID:\"), \" \", user.rid), /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"strong\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 11\n  }\n}, \"Name:\"), \" \", user.name))));\n\nconst SignUpForm = withRouter(withFirebase(AppointmentFormBase));\nexport default SchedulePage;\nexport { SignUpForm };","map":{"version":3,"sources":["C:/Users/Sarita/react-firebase-authentication-starter-kit/src/components/Assistant/index.js"],"names":["React","Component","Link","withRouter","withFirebase","firebase","Navigation","SchedulePage","INITIAL_STATE","name","rid","error","users","loading","AppointmentFormBase","constructor","props","onSubmit","event","a1","state","email","gender","age","ref","database","newRef","push","set","console","log","onChange","setState","target","value","componentDidMount","firestore","on","snapshot","usersObject","val","usersList","Object","keys","map","key","uid","componentWillUnmount","off","render","isInvalid","message","UserList","user","SignUpForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nimport firebase from 'firebase';\r\nimport Navigation from '../Navigation';\r\n\r\nconst SchedulePage = () => (\r\n  <div>\r\n    <h1>Schedule (Assistant)</h1>\r\n\t\t<SignUpForm/>\r\n  </div>\r\n  \r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  name: '',\r\n  rid: '',  \r\n  error: null,\r\n  users: [],\r\n loading: false,\r\n};\r\n\r\nclass AppointmentFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\t\r\n\tthis.state = { ...INITIAL_STATE };\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    firebase.firestore().ref('Patient_Details').on('value', snapshot => {\r\n        const usersObject = snapshot.val();\r\n\t\tconst usersList = Object.keys(usersObject).map(key => ({\r\n        ...usersObject[key],\r\n        uid: key,\r\n      }));\t  \r\n      this.setState({\r\n        users: usersList,\r\n        loading: false,\r\n      });\r\n    });       \r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    firebase.firestore().ref('Patient_Details').off();\r\n  }\r\n  \r\n  onSubmit = event => {\r\n    const a1 = { \r\n      name:this.state.name,\r\n      email:this.state.email,\r\n      gender:this.state.gender,\r\n      age:this.state.age,      \r\n    };\r\n    \r\n      var ref = firebase.database().ref('/Patient_Details/');\r\n      var newRef = ref.push();\r\n        newRef.set(a1);\r\n    console.log('DATA SAVED');\r\n    \r\n  }\r\n\r\n  onChange = event => {\r\n\t  this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n  render() {\r\n\t  const {\r\n      name,\r\n      rid,\r\n      error,\r\n      users,\r\n      loading,\r\n    } = this.state;\r\n\t\r\n\tconst isInvalid = rid === '' || name === '';\r\n\t  \r\n    return (\r\n      <div>\r\n        <div class=\"addForm\">\r\n            <form onSubmit={this.onSubmit}>\r\n              <input\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                placeholder=\"Full Name\"\r\n              /><br/>\r\n              <input\r\n                name=\"rid\"\r\n                value={rid}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                placeholder=\"ID\"\r\n              /><br/>        \r\n              <button disabled={isInvalid} type=\"submit\">\r\n                Appoint\r\n              </button>\r\n              {error && <p>{error.message}</p>}\t  \r\n            </form>\r\n        </div>\r\n        <div>\r\n          <h2>Patients</h2>\r\n          {loading && <div>Loading ...</div>}\r\n          <UserList users={users} />\r\n        </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nconst UserList = ({ users }) => (\r\n  <ul>\r\n    {users.map(user => (\r\n      <li key={user.rid}>\r\n        <span>\r\n          <strong>ID:</strong> {user.rid}\r\n        </span>\r\n        \r\n        <span>\r\n          <strong>Name:</strong> {user.name}\r\n        </span>\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nconst SignUpForm =withRouter(withFirebase(AppointmentFormBase));\r\n\r\nexport default SchedulePage;\r\n\r\nexport { SignUpForm };"]},"metadata":{},"sourceType":"module"}