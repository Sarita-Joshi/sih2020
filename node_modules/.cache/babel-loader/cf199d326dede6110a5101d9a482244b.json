{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\src\\\\components\\\\Scheduling\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport firebase from 'firebase';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as ROUTES from '../../constants/routes';\nimport ReactSearchBox from 'react-search-box';\nimport { AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\n\nclass scheduling extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      users: [],\n      db: firebase.firestore(),\n      columnDefs: [{\n        headerName: \"Patient ID\",\n        field: \"id\",\n        sortable: true,\n        filter: true\n      }, {\n        headerName: \"Patient Name\",\n        field: \"name\",\n        sortable: true,\n        filter: true\n      }, {\n        headerName: \"Age\",\n        field: \"age\",\n        sortable: true,\n        filter: true\n      }],\n      rowData: [{\n        id: \"Toyota\",\n        name: \"Celica\",\n        age: 35\n      }, {\n        id: \"Ford\",\n        name: \"Mondeo\",\n        age: 32\n      }, {\n        id: \"Porsche\",\n        name: \"Boxter\",\n        age: 72\n      }]\n    };\n    firebase.firestore().settings({\n      timestampsInSnapshots: true\n    });\n  }\n\n  getData() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var tempDoc;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            tempDoc = [];\n            _context.next = 3;\n            return _this.props.firebase.db.collection('Patient_Details').get().then(querySnapshot => {\n              // const tempDoc = []\n              querySnapshot.forEach(doc => {\n                tempDoc.push(_objectSpread({\n                  key: doc.id,\n                  value: doc.data().name\n                }, doc.data()));\n              });\n              console.log(tempDoc);\n\n              _this.setState({\n                users: tempDoc,\n                loading: false\n              });\n            });\n\n          case 3:\n            return _context.abrupt(\"return\", tempDoc);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  }\n\n  componentDidMount() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _this2.setState({\n              loading: true\n            });\n\n            _context2.next = 3;\n            return _this2.props.firebase.db.collection('Patient_Details').get().then(querySnapshot => {\n              const tempDoc = [];\n              querySnapshot.forEach(doc => {\n                tempDoc.push(_objectSpread({\n                  id: doc.id,\n                  value: doc.data().name\n                }, doc.data()));\n              });\n              console.log(tempDoc);\n\n              _this2.setState({\n                users: tempDoc,\n                loading: false\n              });\n            });\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  }\n\n  componentWillUnmount() {// firebase.firestore().collection('patients');\n  }\n\n  render() {\n    const _this$state = this.state,\n          users = _this$state.users,\n          loading = _this$state.loading; //const u = this.getData();\n\n    console.log(users);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 14\n      }\n    }, \"Search a patient\")), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Link, {\n      to: ROUTES.PATIENT_REG,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 10\n      }\n    }, \"Register new patient\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ag-theme-alpine\",\n      style: {\n        height: '200px',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(AgGridReact, {\n      columnDefs: this.state.columnDefs,\n      rowData: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }))));\n  }\n\n} //to check\n// const UserList = ({ users }) => (\n//   <ul>\n//     {users.length>0 && users.map(user => (\n//       <li key={user.key}>\n//         <span>\n//           <strong>Email:</strong> {user.email}\n//         </span>\n//         <span>\n//           <strong>Name:</strong> {user.name}\n//         </span>\n//       </li>\n//     ))}\n//   </ul>\n// );\n\n\nexport default withFirebase(scheduling);","map":{"version":3,"sources":["C:/Users/Sarita/react-firebase-authentication-starter-kit/src/components/Scheduling/index.js"],"names":["React","Component","Link","withRouter","withFirebase","firebase","ROUTES","ReactSearchBox","AgGridReact","scheduling","constructor","props","state","loading","users","db","firestore","columnDefs","headerName","field","sortable","filter","rowData","id","name","age","settings","timestampsInSnapshots","getData","tempDoc","collection","get","then","querySnapshot","forEach","doc","push","key","value","data","console","log","setState","componentDidMount","componentWillUnmount","render","PATIENT_REG","height","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { withFirebase } from '../Firebase';\r\nimport firebase from 'firebase';\r\n\r\nimport './index.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport ReactSearchBox from 'react-search-box'\r\nimport { AgGridReact } from 'ag-grid-react';\r\nimport 'ag-grid-community/dist/styles/ag-grid.css';\r\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\r\n\r\nclass scheduling extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      users: [],\r\n      db: firebase.firestore(),\r\n\r\n      columnDefs: [{\r\n        headerName: \"Patient ID\", field: \"id\", sortable: true, filter: true\r\n        },{\r\n        headerName: \"Patient Name\", field: \"name\", sortable: true, filter: true\r\n        },{\r\n          headerName: \"Age\", field: \"age\", sortable: true, filter: true\r\n        }, \r\n    ],\r\n        rowData: [\r\n          { id: \"Toyota\", name: \"Celica\", age: 35 },\r\n          { id: \"Ford\", name: \"Mondeo\", age: 32 },\r\n          { id: \"Porsche\", name: \"Boxter\", age: 72 }]\r\n      \r\n    };\r\n    firebase.firestore().settings({ timestampsInSnapshots: true});\r\n\r\n  }\r\n\r\n   async getData() {\r\n     let tempDoc = [];\r\n    await this.props.firebase.db.collection('Patient_Details').get().then((querySnapshot) => {\r\n     // const tempDoc = []\r\n      querySnapshot.forEach((doc) => {\r\n         tempDoc.push({ key: doc.id, value:doc.data().name, ...doc.data() })\r\n      })\r\n      console.log(tempDoc);\r\n      this.setState({\r\n        users: tempDoc,\r\n        loading: false,\r\n      });          \r\n   });\r\n   return tempDoc;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true });\r\n    \r\n    await this.props.firebase.db.collection('Patient_Details').get().then((querySnapshot) => {\r\n      const tempDoc = []\r\n      querySnapshot.forEach((doc) => {\r\n         tempDoc.push({ id: doc.id, value:doc.data().name, ...doc.data() })\r\n      })\r\n      console.log(tempDoc);\r\n      this.setState({\r\n        users: tempDoc,\r\n        loading: false,\r\n      });       \r\n   });\r\n\t  \r\n  }\r\n  \r\n  componentWillUnmount() {\r\n   // firebase.firestore().collection('patients');\r\n  }  \r\n  \r\n  render() {\r\n    const { users, loading } = this.state;\r\n    //const u = this.getData();\r\n    console.log(users);\r\n    return (\r\n      <div>\r\n      \r\n  <div class=\"wrap\">\r\n   <div class=\"search\">\r\n     <center><h3>Search a patient</h3></center>\r\n     \r\n    <h3> <Link to={ROUTES.PATIENT_REG}>Register new patient</Link></h3>\r\n  </div>\r\n  <br/>\r\n    <br/>\r\n  \r\n<div className=\"ag-theme-alpine\" style={ {height: '200px', width: '100%'} }>\r\n        <AgGridReact\r\n            columnDefs={this.state.columnDefs}\r\n            rowData={this.state.users}>\r\n        </AgGridReact>\r\n      </div>\r\n</div>\r\n  \r\n  {/* <UserList users={users} />     */}\r\n  </div>\r\n\r\n\r\n);\r\n  }\r\n}\r\n//to check\r\n// const UserList = ({ users }) => (\r\n//   <ul>\r\n//     {users.length>0 && users.map(user => (\r\n//       <li key={user.key}>\r\n//         <span>\r\n//           <strong>Email:</strong> {user.email}\r\n//         </span>\r\n        \r\n//         <span>\r\n//           <strong>Name:</strong> {user.name}\r\n//         </span>\r\n//       </li>\r\n//     ))}\r\n//   </ul>\r\n// );\r\n\r\nexport default withFirebase(scheduling);"]},"metadata":{},"sourceType":"module"}