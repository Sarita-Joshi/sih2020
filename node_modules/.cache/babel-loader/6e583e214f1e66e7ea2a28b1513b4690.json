{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\src\\\\components\\\\Assistant\\\\index.js\";\n\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport firebase from 'firebase';\nvar _this$state = this.state,\n    name = _this$state.name,\n    rid = _this$state.rid,\n    error = _this$state.error,\n    users = _this$state.users,\n    loading = _this$state.loading;\nvar isInvalid = rid === '' || name === '';\n\nvar SchedulePage = function SchedulePage() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, \"Schedule (Assistant)\"), React.createElement(\"div\", {\n    class: \"addForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: _this.onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"name\",\n    value: name,\n    onChange: _this.onChange,\n    type: \"text\",\n    placeholder: \"Full Name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    name: \"rid\",\n    value: rid,\n    onChange: _this.onChange,\n    type: \"text\",\n    placeholder: \"ID\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    disabled: isInvalid,\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Appoint\"), error && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, error.message))), React.createElement(SignUpForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }));\n};\n\nvar INITIAL_STATE = {\n  name: '',\n  rid: '',\n  error: null,\n  users: [],\n  loading: false\n};\n\nvar AppointmentFormBase =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AppointmentFormBase, _Component);\n\n  function AppointmentFormBase(props) {\n    var _this2;\n\n    _classCallCheck(this, AppointmentFormBase);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(AppointmentFormBase).call(this, props));\n\n    _this2.onSubmit = function (event) {\n      var a1 = {\n        name: _this2.state.name,\n        rid: _this2.state.rid\n      };\n      var ref = firebase.database().ref('/patients/');\n      var newRef = ref.push();\n      newRef.set(a1);\n      console.log('DATA SAVED');\n    };\n\n    _this2.onChange = function (event) {\n      _this2.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this2.state = _objectSpread({}, INITIAL_STATE);\n    return _this2;\n  }\n\n  _createClass(AppointmentFormBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.setState({\n        loading: true\n      });\n      firebase.database().ref('patients').on('value', function (snapshot) {\n        var usersObject = snapshot.val();\n        var usersList = Object.keys(usersObject).map(function (key) {\n          return _objectSpread({}, usersObject[key], {\n            uid: key\n          });\n        });\n\n        _this3.setState({\n          users: usersList,\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      firebase.database().ref('patients').off();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          users = _this$state2.users,\n          loading = _this$state2.loading;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Patients\"), loading && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Loading ...\"), React.createElement(UserList, {\n        users: users,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AppointmentFormBase;\n}(Component);\n\nvar UserList = function UserList(_ref) {\n  var users = _ref.users;\n  return React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, users.map(function (user) {\n    return React.createElement(\"li\", {\n      key: user.rid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"ID:\"), \" \", user.rid), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Name:\"), \" \", user.name));\n  }));\n};\n\nvar SignUpForm = withRouter(withFirebase(AppointmentFormBase));\nexport default SchedulePage;\nexport { SignUpForm };","map":{"version":3,"sources":["C:/Users/Sarita/react-firebase-authentication-starter-kit/src/components/Assistant/index.js"],"names":["React","Component","Link","withRouter","withFirebase","firebase","state","name","rid","error","users","loading","isInvalid","SchedulePage","onSubmit","onChange","message","INITIAL_STATE","AppointmentFormBase","props","event","a1","ref","database","newRef","push","set","console","log","setState","target","value","on","snapshot","usersObject","val","usersList","Object","keys","map","key","uid","off","UserList","user","SignUpForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\n\r\nimport firebase from 'firebase';\r\n\r\n\r\nconst {\r\n  name,\r\n  rid,\r\n  error,\r\n  users,\r\n  loading,\r\n} = this.state;\r\n\r\nconst isInvalid = rid === '' || name === '';\r\n\r\nconst SchedulePage = () => (\r\n \r\n  <div>\r\n    <h1>Schedule (Assistant)</h1>\r\n    <div class=\"addForm\">\r\n            <form onSubmit={this.onSubmit}>\r\n              <input\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                placeholder=\"Full Name\"\r\n              /><br/>\r\n              <input\r\n                name=\"rid\"\r\n                value={rid}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                placeholder=\"ID\"\r\n              /><br/>        \r\n              <button disabled={isInvalid} type=\"submit\">\r\n                Appoint\r\n              </button>\r\n              {error && <p>{error.message}</p>}\t  \r\n            </form>\r\n        </div>\r\n\t\t<SignUpForm/>\r\n  </div>\r\n  \r\n);\r\n\r\n\r\n\r\nconst INITIAL_STATE = {\r\n  name: '',\r\n  rid: '',  \r\n  error: null,\r\n  users: [],\r\n loading: false,\r\n};\r\n\r\nclass AppointmentFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\t\r\n\tthis.state = { ...INITIAL_STATE };\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    firebase.database().ref('patients').on('value', snapshot => {\r\n        const usersObject = snapshot.val();\r\n\t\tconst usersList = Object.keys(usersObject).map(key => ({\r\n        ...usersObject[key],\r\n        uid: key,\r\n      }));\t  \r\n      this.setState({\r\n        users: usersList,\r\n        loading: false,\r\n      });\r\n    });       \r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    firebase.database().ref('patients').off();\r\n  }\r\n  \r\n  onSubmit = event => {\r\n\t  const a1 = {\r\n      name: this.state.name,\r\n      rid: this.state.rid, \r\n    };\r\n    \r\n      var ref = firebase.database().ref('/patients/');\r\n      var newRef = ref.push();\r\n        newRef.set(a1);\r\n    console.log('DATA SAVED');\r\n    \r\n  }\r\n\r\n  onChange = event => {\r\n\t  this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n  \r\n  render() {\r\n\t  const {      \r\n      users,\r\n      loading,\r\n    } = this.state;\r\n\t\r\n\t\r\n\t  \r\n    return (\r\n      <div>\r\n        \r\n        <div>\r\n          <h2>Patients</h2>\r\n          {loading && <div>Loading ...</div>}\r\n          <UserList users={users} />\r\n        </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nconst UserList = ({ users }) => (\r\n  <ul>\r\n    {users.map(user => (\r\n      <li key={user.rid}>\r\n        <span>\r\n          <strong>ID:</strong> {user.rid}\r\n        </span>\r\n        \r\n        <span>\r\n          <strong>Name:</strong> {user.name}\r\n        </span>\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nconst SignUpForm =withRouter(withFirebase(AppointmentFormBase));\r\n\r\nexport default SchedulePage;\r\n\r\nexport { SignUpForm };"]},"metadata":{},"sourceType":"module"}