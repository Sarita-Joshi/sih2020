{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sarita\\\\react-firebase-authentication-starter-kit\\\\src\\\\components\\\\Pdf\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { withFirebase } from '../Firebase';\nimport { PDFDownloadLink, Text, Document, Page } from '@react-pdf/renderer';\nimport ReactPDF from '@react-pdf/renderer';\nimport './index.css';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nconst pdf = () => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"pdfform\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(PdfPage, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }\n}));\n\nconst INITIAL_STATE = {\n  hospital: '',\n  doctorname: '',\n  phonenumber: '',\n  degree: '',\n  lic_no: '',\n  username: '',\n  age: 0,\n  symptoms: '',\n  diagnosis: '',\n  prescription: '',\n  suggestions: '',\n  advice: '',\n  error: null\n};\n\nclass pdfBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      event.preventDefault(); //hide textarea    \n\n      document.getElementById(\"sugg_txt\").style.display = \"none\";\n      document.getElementById(\"adv_txt\").style.display = \"none\";\n      document.getElementById(\"pre_txt\").style.display = \"none\";\n      document.getElementById(\"dia_txt\").style.display = \"none\";\n      document.getElementById(\"sym_txt\").style.display = \"none\";\n      document.getElementById(\"label_sugg\").style.display = \"none\";\n      document.getElementById(\"btn\").style.display = \"none\"; //set text\n\n      document.getElementById('p_advice').innerHTML = document.getElementById('adv_txt').value;\n      document.getElementById('p_pre').innerHTML = document.getElementById('pre_txt').value;\n      document.getElementById('p_dia').innerHTML = document.getElementById('dia_txt').value;\n      document.getElementById('p_sym').innerHTML = document.getElementById('sym_txt').value;\n      const input = document.getElementById('pdfform');\n      html2canvas(input, {\n        scrollX: 0,\n        scrollY: -window.scrollY\n      }).then(canvas => {\n        const imgData = canvas.toDataURL('image/jpeg', 1.0);\n        const ctx = canvas.getContext(\"2d\");\n        ctx.scale(0.8, 0.8);\n        const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n        const imgProps = pdf.getImageProperties(imgData);\n        pdf.addImage(imgData, 'JPEG', 10, 12, 190, 250); // pdf.output('dataurlnewwindow');\n\n        pdf.save(this.props.location.state.PatientName + \"_prescription.pdf\");\n      });\n      document.getElementById('p_advice').innerHTML = \"\";\n      document.getElementById('p_pre').innerHTML = \"\";\n      document.getElementById('p_dia').innerHTML = \"\";\n      document.getElementById('p_sym').innerHTML = \"\";\n      document.getElementById(\"btn\").style.display = \"block\";\n      document.getElementById(\"sugg_txt\").style.display = \"block\";\n      document.getElementById(\"adv_txt\").style.display = \"block\";\n      document.getElementById(\"pre_txt\").style.display = \"block\";\n      document.getElementById(\"dia_txt\").style.display = \"block\";\n      document.getElementById(\"sym_txt\").style.display = \"block\"; //update patient history\n\n      const db = this.props.firebase.db;\n      db.settings({\n        timestampsInSnapshots: true\n      });\n      const userRef = db.collection(\"Patient_Details\").doc(this.props.firebase.auth.currentUser.uid).collection(\"History\").doc().set({\n        suggestions: document.getElementById('p_sugg').innerHTML,\n        diagnosis: document.getElementById('p_dia').innerHTML,\n        symptoms: document.getElementById('p_sym').innerHTML,\n        advice: document.getElementById('p_advice').innerHTML,\n        prescription: document.getElementById('p_pre').innerHTML\n      });\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    console.log(this.props.location.state);\n    this.state = {\n      username: this.props.location.state.PatientName,\n      age: this.props.location.state.Age,\n      symptoms: this.props.location.state.Symptoms,\n      diagnosis: this.props.location.state.Diagnosis,\n      prescription: this.props.location.state.Medicines,\n      suggestions: this.props.location.state.Recommendations,\n      advice: this.props.location.state.Advice,\n      error: null\n    };\n    let _db = this.props.firebase.db;\n    this.props.firebase.auth.onAuthStateChanged(function (user) {\n      if (user) {\n        // User is signed in.\n        _db.settings({\n          timestampsInSnapshots: true\n        });\n\n        _db.collection(\"Doctor_Details\").doc(user.email).get().then(doc => {\n          const data = doc.data();\n          document.getElementById('hospital').innerHTML = data.hospital;\n          document.getElementById('degree').innerHTML = \"Degree: \" + data.degree;\n          document.getElementById('doctorname').innerHTML = \"Doctor Name: \" + data.fullname;\n          document.getElementById('phonenumber').innerHTML = \"Contact: \" + data.phonenumber;\n          document.getElementById('lic_no').innerHTML = \"Licence no: \" + data.lic_no;\n        }).catch(function (error) {\n          console.log(\"Got an error: \", error);\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.authSubscription = this.props.firebase.auth.onAuthStateChanged(user => {\n      this.setState({\n        loading: false,\n        user\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          username = _this$state.username,\n          age = _this$state.age,\n          symptoms = _this$state.symptoms,\n          diagnosis = _this$state.diagnosis,\n          prescription = _this$state.prescription,\n          suggestions = _this$state.suggestions,\n          advice = _this$state.advice,\n          error = _this$state.error;\n    const isInvalid = prescription === '' || username === '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      id: \"hospital\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }\n    }, \"My Hospital\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"doctorname\",\n      className: \"col4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, \"Doctor Name: XYZ\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"lic_no\",\n      className: \"col4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }, \"License No.: 123456\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"degree\",\n      className: \"col4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }, \"Degree: MBBS\"))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group myrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, \"Patient Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      className: \"form-control\",\n      value: username,\n      onChange: this.onChange,\n      type: \"text\",\n      placeholder: \"patient name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group myrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, \"Age (yrs)\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"age\",\n      className: \"form-control\",\n      value: age,\n      onChange: this.onChange,\n      type: \"number\",\n      placeholder: \"age\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group myrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }\n    }, \"Patient Contact\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"contact\",\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Contact number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 8\n      }\n    }))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, \"Symptoms\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"symptoms\",\n      className: \"form-control\",\n      value: symptoms,\n      id: \"sym_txt\",\n      onChange: this.onChange,\n      type: \"text\",\n      placeholder: \"symptoms\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"p_sym\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 21\n      }\n    }, \"Diagnosis\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"diagnosis\",\n      className: \"form-control\",\n      value: diagnosis,\n      id: \"dia_txt\",\n      onChange: this.onChange,\n      type: \"text\",\n      placeholder: \"diagnosis\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"p_dia\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, \"prescription\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"prescription\",\n      className: \"form-control\",\n      value: prescription,\n      id: \"pre_txt\",\n      onChange: this.onChange,\n      type: \"text\",\n      rows: \"4\",\n      placeholder: \"prescription\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"p_pre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"label_sugg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 21\n      }\n    }, \"suggestions\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"suggestions\",\n      className: \"form-control\",\n      value: suggestions,\n      id: \"sugg_txt\",\n      onChange: this.onChange,\n      type: \"text\",\n      rows: \"4\",\n      placeholder: \"suggestions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, \"Other advices\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"advice\",\n      className: \"form-control\",\n      value: advice,\n      id: \"adv_txt\",\n      onChange: this.onChange,\n      type: \"text\",\n      placeholder: \"advices\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"p_advice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"btn\",\n      className: \"btn btn-primary btn-block\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }\n    }, \"Confirm and Generate\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 18\n      }\n    }), error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 19\n      }\n    }, error.message)), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"phonenumber\",\n      className: \"col6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }\n    }, \"Contact No.: 123456\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }\n    }, \"Timing: 10:00am-11:00pm\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 7\n      }\n    })) //parent div \n    ;\n  }\n\n}\n\nconst PdfPage = withRouter(withFirebase(pdfBase));\nexport default pdf;\nexport { PdfPage };","map":{"version":3,"sources":["C:/Users/Sarita/react-firebase-authentication-starter-kit/src/components/Pdf/index.js"],"names":["React","Component","Link","withRouter","withFirebase","PDFDownloadLink","Text","Document","Page","ReactPDF","jsPDF","html2canvas","pdf","INITIAL_STATE","hospital","doctorname","phonenumber","degree","lic_no","username","age","symptoms","diagnosis","prescription","suggestions","advice","error","pdfBase","constructor","props","onSubmit","event","preventDefault","document","getElementById","style","display","innerHTML","value","input","scrollX","scrollY","window","then","canvas","imgData","toDataURL","ctx","getContext","scale","imgProps","getImageProperties","addImage","save","location","state","PatientName","db","firebase","settings","timestampsInSnapshots","userRef","collection","doc","auth","currentUser","uid","set","onChange","setState","target","name","console","log","Age","Symptoms","Diagnosis","Medicines","Recommendations","Advice","onAuthStateChanged","user","email","get","data","fullname","catch","componentDidMount","authSubscription","loading","render","isInvalid","message","PdfPage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { withFirebase } from '../Firebase';\r\nimport { PDFDownloadLink, Text, Document, Page } from '@react-pdf/renderer'\r\nimport ReactPDF from '@react-pdf/renderer';\r\nimport './index.css';\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas'\r\n\r\nconst pdf = () => (\r\n\r\n  <div id=\"pdfform\">\r\n    <PdfPage />    \r\n  </div>\r\n\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  hospital: '',\r\n  doctorname: '',\r\n  phonenumber: '',\r\n  degree: '',\r\n  lic_no: '',\r\n\r\n  username: '',\r\n  age: 0,\r\n  symptoms: '',\r\n  diagnosis: '',\r\n  prescription: '',\r\n  suggestions: '',\r\n  advice: '',\r\n  error: null,\r\n};\r\n\r\nclass pdfBase extends Component {\r\n  constructor(props) {\r\n    super(props);   \r\n  console.log(this.props.location.state);\r\n\tthis.state = { username: this.props.location.state.PatientName,\r\n  age: this.props.location.state.Age,\r\n  symptoms: this.props.location.state.Symptoms,\r\n  diagnosis: this.props.location.state.Diagnosis,\r\n  prescription: this.props.location.state.Medicines,\r\n  suggestions: this.props.location.state.Recommendations,\r\n  advice: this.props.location.state.Advice,\r\n  error: null, };\r\n  let db = this.props.firebase.db;\r\n  this.props.firebase.auth.onAuthStateChanged(function(user) {\r\n    if (user) {\r\n      // User is signed in.\r\n      \r\n      db.settings({\r\n        timestampsInSnapshots: true\r\n      });\r\n      db.collection(\"Doctor_Details\")\r\n      .doc(user.email)\r\n      .get()\r\n      .then(doc => {\r\n        const data = doc.data();\r\n        document.getElementById('hospital').innerHTML = data.hospital;\r\n        document.getElementById('degree').innerHTML = \"Degree: \" + data.degree;\r\n        document.getElementById('doctorname').innerHTML = \"Doctor Name: \" + data.fullname;\r\n        document.getElementById('phonenumber').innerHTML = \"Contact: \" + data.phonenumber;\r\n        document.getElementById('lic_no').innerHTML = \"Licence no: \" + data.lic_no;  \r\n      \r\n      }).catch(function(error) {\r\n      console.log(\"Got an error: \",error);\r\n      });\r\n    } \r\n\r\n  \r\n});\r\n  \r\n  }\r\n\r\n  componentDidMount() {\r\n    this.authSubscription = this.props.firebase.auth.onAuthStateChanged((user) => {\r\n      this.setState({\r\n        loading: false,\r\n        user,\r\n      });\r\n    });\r\n  }\r\n  \r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n        //hide textarea    \r\n    \r\n    document.getElementById(\"sugg_txt\").style.display = \"none\";\r\n    document.getElementById(\"adv_txt\").style.display = \"none\";\r\n    document.getElementById(\"pre_txt\").style.display = \"none\";\r\n    document.getElementById(\"dia_txt\").style.display = \"none\";\r\n    document.getElementById(\"sym_txt\").style.display = \"none\";\r\n    document.getElementById(\"label_sugg\").style.display = \"none\";\r\n    document.getElementById(\"btn\").style.display = \"none\";\r\n    //set text\r\n    document.getElementById('p_advice').innerHTML = document.getElementById('adv_txt').value;\r\n    document.getElementById('p_pre').innerHTML = document.getElementById('pre_txt').value;\r\n    document.getElementById('p_dia').innerHTML = document.getElementById('dia_txt').value;\r\n    document.getElementById('p_sym').innerHTML = document.getElementById('sym_txt').value;\r\n\r\n\r\n    const input = document.getElementById('pdfform');\r\n    html2canvas(input, {\r\n        scrollX: 0,\r\n        scrollY: -window.scrollY\r\n      })\r\n      .then((canvas) => {\r\n        const imgData = canvas.toDataURL('image/jpeg', 1.0);\r\n        const ctx = canvas.getContext(\"2d\");\r\n        ctx.scale(0.8, 0.8);\r\n        const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\r\n        const imgProps= pdf.getImageProperties(imgData);\r\n        pdf.addImage(imgData, 'JPEG', 10, 12, 190, 250);\r\n        // pdf.output('dataurlnewwindow');\r\n        pdf.save(this.props.location.state.PatientName +\"_prescription.pdf\");\r\n      })\r\n    ;\r\n    document.getElementById('p_advice').innerHTML = \"\";\r\n    document.getElementById('p_pre').innerHTML = \"\";\r\n    document.getElementById('p_dia').innerHTML = \"\";\r\n    document.getElementById('p_sym').innerHTML = \"\";\r\n\r\n    document.getElementById(\"btn\").style.display = \"block\";\r\n    document.getElementById(\"sugg_txt\").style.display = \"block\";\r\n    document.getElementById(\"adv_txt\").style.display = \"block\";\r\n    document.getElementById(\"pre_txt\").style.display = \"block\";\r\n    document.getElementById(\"dia_txt\").style.display = \"block\";\r\n    document.getElementById(\"sym_txt\").style.display =\"block\";\r\n    \r\n      //update patient history\r\n    const db = this.props.firebase.db;\r\n        db.settings({\r\n          timestampsInSnapshots: true\r\n        });\r\n        const userRef = db.collection(\"Patient_Details\").doc(this.props.firebase.auth.currentUser.uid)\r\n          .collection(\"History\").doc().set({\r\n          suggestions:  document.getElementById('p_sugg').innerHTML,\r\n          diagnosis: document.getElementById('p_dia').innerHTML,\r\n          symptoms: document.getElementById('p_sym').innerHTML,\r\n          advice: document.getElementById('p_advice').innerHTML,\r\n          prescription: document.getElementById('p_pre').innerHTML,          \r\n        });  \r\n\r\n  }\r\n  \r\n  onChange = event => {\r\n\t  this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { \r\n      username, \r\n      age, \r\n      symptoms,\r\n      diagnosis,\r\n      prescription,\r\n      suggestions,\r\n      advice,\r\n      error,\r\n     } = this.state;\r\n\r\n         \r\n     const isInvalid =     \r\n     prescription === '' ||\r\n     username === '';\r\n  \r\n    return (\r\n\r\n      <div>\r\n      <center>\r\n      <h1 id=\"hospital\">My Hospital</h1>\r\n      <div className=\"row\">\r\n        <div id=\"doctorname\" className=\"col4\">\r\n          Doctor Name: XYZ\r\n        </div><br/>\r\n        <div id=\"lic_no\" className=\"col4\">\r\n          License No.: 123456\r\n        </div>\r\n        <div id=\"degree\" className=\"col4\">\r\n          Degree: MBBS\r\n        </div>\r\n      </div>\r\n      \r\n  </center>\r\n           <hr /> \r\n      <form onSubmit={this.onSubmit}>\r\n        <div className=\"input-group \">\r\n        <div className=\"form-group myrow\">\r\n                    <label>Patient Name</label>\r\n\t      <input\r\n          name=\"username\" className=\"form-control\"\r\n          value={username}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"patient name\"\r\n        /></div>\r\n        <div className=\"input-group-prepend\">\r\n        <span></span>\r\n        </div>\r\n        \r\n        <div className=\"form-group myrow\">\r\n                    <label>Age (yrs)</label>\r\n        <input\r\n          name=\"age\" className=\"form-control\"\r\n          value={age}\r\n          onChange={this.onChange}\r\n          type=\"number\"\r\n          placeholder=\"age\"\r\n        /></div>\r\n\r\n        <div className=\"form-group myrow\">\r\n                    <label>Patient Contact</label>\r\n\t      <input\r\n          name=\"contact\" className=\"form-control\"\r\n          type=\"text\"\r\n          placeholder=\"Contact number\"\r\n        /></div>\r\n        </div>\r\n        <hr />\r\n       \r\n        <div className=\"form-group \">\r\n                    <label>Symptoms</label>\r\n        <textarea\r\n          name=\"symptoms\" className=\"form-control\"\r\n          value={symptoms} id=\"sym_txt\"\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"symptoms\"\r\n        /></div>        \r\n        <p id=\"p_sym\" ></p>\r\n        <div className=\"form-group \">\r\n                    <label>Diagnosis</label>\r\n        <textarea\r\n          name=\"diagnosis\" className=\"form-control\"\r\n          value={diagnosis} id=\"dia_txt\"\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"diagnosis\"\r\n        /></div>\r\n        <p id=\"p_dia\" ></p>\r\n        <div className=\"form-group \">\r\n                    <label>prescription</label>\r\n        <textarea\r\n          name=\"prescription\" className=\"form-control\"\r\n          value={prescription} id=\"pre_txt\"\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          rows=\"4\"\r\n          placeholder=\"prescription\"\r\n        /></div>\r\n        <p id=\"p_pre\" ></p>\r\n        <div className=\"form-group \">\r\n                    <label id='label_sugg'>suggestions</label>\r\n        <textarea\r\n          name=\"suggestions\" className=\"form-control\"\r\n          value={suggestions} id=\"sugg_txt\"\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          rows=\"4\"\r\n          placeholder=\"suggestions\"></textarea>         \r\n        </div>\r\n        <div className=\"form-group \">\r\n                    <label>Other advices</label>\r\n        <textarea\r\n          name=\"advice\" className=\"form-control\"\r\n          value={advice} id=\"adv_txt\"\r\n          onChange={this.onChange}\r\n          type=\"text\"          \r\n          placeholder=\"advices\"\r\n        /></div>       \r\n        <p id=\"p_advice\" ></p>\r\n        <br/>\r\n        <button id=\"btn\" className=\"btn btn-primary btn-block\" type=\"submit\">\r\n          Confirm and Generate\r\n        </button><br/>\r\n        {error && <p>{error.message}</p>}\t  \r\n      </form>\r\n      <hr />\r\n      <center>\r\n        <div className=\"row\">\r\n          <div id=\"phonenumber\" className=\"col6\">\r\n            Contact No.: 123456\r\n          </div>\r\n          <div className=\"col6\">\r\n            Timing: 10:00am-11:00pm\r\n          </div>\r\n        </div>\r\n      </center>\r\n      <div>  \r\n  </div>\r\n  </div>  //parent div \r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst PdfPage =withRouter(withFirebase(pdfBase));\r\n\r\nexport default pdf;\r\n\r\nexport { PdfPage };"]},"metadata":{},"sourceType":"module"}